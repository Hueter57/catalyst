# Webサイト要件定義書『Catalyst』(仮称)

## 1. 概要

本プロジェクト『Catalyst』は、対応すべき未着手の仕事（タスク）を管理するためのWebアプリケーションである。タスクに期限やリマインダーを設定し、指定した日時に内部チャットサービス「traQ」へ通知を送信することで、タスクの実行を促進し、業務プロセスを円滑化する「触媒」としての役割を担う。

## 2. 利用対象者

* traQの一部の役員（庶務担当者）

## 3. 利用環境

* **メインデバイス**: PC
* **サブデバイス**: スマートフォン
  * レスポンシブデザインに対応するが、実装の優先度は低めとし、開発リソースに応じて後回しとする。

## 4. 機能一覧 (初期開発スコープ)

### 4.1. タスク登録・編集機能

タスクの新規登録および既存タスクの編集を行う。

| 項目名 | 必須/任意 | 型/仕様 | 備考 |
| :--- | :--- | :--- | :--- |
| **タスク名** | 必須 | 文字列 | タスクの内容を簡潔に示すタイトル |
| **期限日** | 必須 | 日付 | タスクの完了目標日 |
| **カテゴリ** | 必須 | 選択/文字列 | 既存リストから選択。リストにない場合は「新規追加」可。 |
| **重要度** | 必須 | 選択式 | 「高」「中」「低」の3段階 |
| **担当者** | 必須 | 文字列配列 | traQのユーザーUUIDを複数指定可能 |
| **ステータス** | 必須(自動) | 選択式 | 「進行中」「完了」。新規作成時は「進行中」で固定。 |
| **タスクの説明文** | 任意 | テキスト | タスクの詳細情報や補足事項 |
| **traQメッセージリンク** | 任意 | URL | 関連するtraQの投稿パーマリンク |
| **リマインド日時** | 任意 | 日時配列 | 通知を送信する絶対日時を複数設定可能 |

### 4.2. タスク表示機能

登録されたタスクを一覧で表示・管理する。

* **基本表示形式**:
  * シンプルなリスト形式を採用する。
  * 各タスクにはステータス（進行中/完了）を変更するためのチェックボックスを設ける。
* **デフォルト表示ルール**:
  * **「期限が未来日」** または **「ステータスが進行中」** のタスクをデフォルトで表示する。
* **リスト表示項目**:
  * ステータス変更用チェックボックス
  * タスク名
  * 期限日
  * （設定されている中で）最も近いリマインド日時
  * 重要度（色やアイコンで表現）
  * 担当者（アイコンなどで表現）
* **画面遷移**:
  * リスト上のタスクをクリックすると、全項目を閲覧できる**「詳細画面」**へ遷移する。
  * 詳細画面から**「編集画面」**へ遷移できる。
* **並び替え（ソート）機能**:
  * 期限が近い順
  * 最新リマインド日時が近い順
  * 登録日時が新しい順
* **絞り込み（フィルタ）機能**:
  * 重要度
  * 担当者
  * 期限
  * ステータス

### 4.3. リマインダー・通知機能

設定された日時に、指定されたtraQチャンネルへ通知を送信する。

* **通知タイミング**:
    1. タスクに設定された各「リマインド日時」。
    2. **期限切れかつ「進行中」**のタスクに対する定時リマインド（毎日もしくは毎週）。
* **通知先**:
  * 単一のtraQチャンネル。
  * 通知先のチャンネルIDは、システム全体の設定（環境変数など）で指定する。
* **通知メッセージの内容**:
  * タイトル（本アプリケーションのタスク詳細画面へのリンクを埋め込む）
  * 担当者へのメンション
  * 期限と残り時間（例：「あと3日と5時間」）
  * カテゴリ
  * 重要度
  * タスクの説明文
  * 関連するtraQのメッセージリンク

## 5. 将来的な拡張

初期開発完了後、必要に応じて以下の機能の実装を検討する。

* **表示機能の強化**:
  * カレンダー表示機能の追加。
  * 「完了済みかつ期限が過去日」のタスクの表示/非表示を切り替える機能。
* **ステータスの追加**:
  * タスクのステータスに「返信待ち」などを追加する。
* **リマインダー設定のUX向上**:
  * リマインド日時設定時に、「期限の〇日前」のような相対的な選択肢を追加する機能。
* **通知機能の強化**:
  * タスクごとに通知先のtraQチャンネルを指定できるようにする。
  * 通知メッセージの文面や情報量を改善・カスタマイズできるようにする。
* **traQ連携の強化**:
  * traQ上のBotとの対話形式で、タスクを登録・管理できるようにする。

## 関連資料

[ディレクトリ構造案]()
[利用技術]()
[DB設計]()
[API仕様書]()